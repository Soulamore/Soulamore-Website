<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- AUTH GUARD: Protects this page -->
    <script src="../assets/js/auth-guard.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psychologist Dashboard | Soulamore</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/global.css">
    <link rel="stylesheet" href="../assets/css/dashboard-sidebar.css">
    <link rel="stylesheet" href="../assets/css/dashboard-themes.css">
    <!-- FORCE COLOR OVERRIDE: Resolve Black Screen Issue -->
    <style>
        /* COLOR FIXES (Dark Mode Only) */
        :root:not(.light-mode) {
            --bg-deep: #131B2E !important;
            --bg-sidebar: #131B2E !important;
            --bg-card: #1e293b !important;
            /* Fix for grey modals/cards */
            --bg-surface: #1e293b !important;
        }

        /* PORTAL IDENTITY: PSYCH = TEAL */
        :root {
            --accent-theme: #2dd4bf;
            --accent-theme-soft: rgba(45, 212, 191, 0.15);
            --accent-theme-shadow: rgba(45, 212, 191, 0.3);
        }

        body:not(.light-mode),
        body:not(.light-mode) .dashboard-layout,
        body:not(.light-mode) .sidebar {
            background-color: #131B2E !important;
            background: #131B2E !important;
        }

        /* Force Input Colors */
        input,
        select,
        textarea {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid var(--border-subtle) !important;
            color: var(--text-main) !important;
        }

        /* FORCE SIDEBAR ACTIVE STATE (TEAL) */
        .side-link.active {
            background: #2dd4bf !important;
            color: #000000 !important;
            border: none !important;
            box-shadow: 0 4px 15px rgba(45, 212, 191, 0.4) !important;
        }

        /* FORCE PRIMARY BUTTONS (TEAL) */
        .btn-dash-primary {
            background-color: #2dd4bf !important;
            color: #000000 !important;
            border: none !important;
        }

        /* TOOL MODAL STYLES (HARDENED) */
        .tool-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #000000;
            opacity: 0.8;
            z-index: 99999;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .tool-modal-overlay.active {
            display: flex !important;
        }

        .tool-modal-content {
            width: 90%;
            max-width: 1000px;
            height: 85vh;
            background-color: #0f172a !important;
            border-radius: 16px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.7);
            position: relative;
            z-index: 100000;
        }

        .tool-modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #0f172a;
        }

        .tool-modal-title {
            font-family: var(--font-head);
            font-size: 1.2rem;
            color: var(--text-main);
        }

        .tool-close-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.2s;
        }

        .tool-close-btn:hover {
            color: var(--text-main);
            transform: rotate(90deg);
        }

        .tool-frame {
            flex: 1;
            border: none;
            width: 100%;
            height: 100%;
            background: var(--bg-deep);
        }

        @keyframes pulse-glow {
            0% {
                box-shadow: 0 0 20px rgba(45, 212, 191, 0.4);
            }

            50% {
                box-shadow: 0 0 35px rgba(45, 212, 191, 0.8), 0 0 10px rgba(45, 212, 191, 0.5);
            }

            100% {
                box-shadow: 0 0 20px rgba(45, 212, 191, 0.4);
            }
        }
    </style>
    <!-- Quill Text Editor -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <style>
        /* --- DASHBOARD V3 DARK (PSYCH) --- */
        /* Theme variables now handled by globally linked dashboard-themes.css */


        body {
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: var(--font-body);
            overflow-x: hidden;
        }

        /* --- LAYOUT --- */
        .dashboard-layout {
            display: flex;
            min-height: 100vh;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 260px;
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border-subtle);
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 40px;
            padding-left: 10px;
        }

        .user-avatar-lg {
            width: 48px;
            height: 48px;
            background: var(--bg-card);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-main);
            font-size: 1.2rem;
            border: 1px solid var(--border-subtle);
        }

        .user-info-text .name {
            font-family: var(--font-head);
            font-weight: 700;
            font-size: 1rem;
            line-height: 1.2;
        }

        .user-info-text .role {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 5px;
            flex: 1;
        }

        .side-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            color: var(--text-muted);
            text-decoration: none;
            border-radius: 12px;
            transition: 0.2s;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .side-link:hover {
            background: rgba(255, 255, 255, 0.03);
            color: var(--text-main);
        }

        .side-link.active {
            background: var(--teal-accent);
            color: #0f172a;
            font-weight: 600;
            box-shadow: 0 4px 12px var(--teal-dim);
        }

        .side-link i {
            width: 20px;
            text-align: center;
        }

        .sidebar-footer {
            margin-top: auto;
            border-top: 1px solid var(--border-subtle);
            padding-top: 20px;
        }

        .logout-btn {
            width: 100%;
            background: transparent;
            border: 1px solid var(--border-subtle);
            color: #ef4444;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
        }

        .logout-btn:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        /* --- MAIN CONTENT --- */
        /* --- MAIN CONTENT (Stacking Context) --- */
        .main-content {
            flex: 1;
            margin-left: 260px;
            /* Container for absolute children */
            position: relative !important;
            height: 100vh !important;
            overflow: hidden !important;
            /* Clip anything outside safe zones */
            display: block !important;
            box-sizing: border-box !important;
            width: auto !important;
            padding: 0 !important;
            /* Padding is handled by view-section offsets */
        }

        /* VIEW SECTION: Absolute Layering */
        .view-section {
            position: absolute !important;
            /* STRICT CONTAINMENT: Matched to User Dashboard */
            top: 110px !important;
            bottom: 90px !important;
            left: 40px !important;
            right: 40px !important;

            display: none !important;
            /* Hidden by default */
            flex-direction: column !important;
            background: transparent;
            padding-top: 0 !important;
            border: none !important;
            height: auto !important;
            max-width: 1200px !important;
            /* CENTERING FIX */
            margin: 0 auto !important;
            /* CENTERING FIX */
            width: 100% !important;
            /* Ensure it fills availability up to max-width */
        }

        /* ACTIVE VIEW: The only one that exists / scrolls */
        .view-section.active {
            display: flex !important;
            overflow-y: auto !important;
            /* Internal Scroll */
            z-index: 10;
        }

        /* --- CARDS & GRID --- */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .dash-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 24px;
            padding: 30px;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            overflow: hidden;
        }

        .dash-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        /* --- TYPOGRAPHY --- */
        h1,
        h2,
        h3,
        h4 {
            font-family: var(--font-head);
            color: var(--text-main);
        }

        p {
            line-height: 1.6;
            color: var(--text-muted);
        }

        /* --- BUTTONS --- */
        .btn-dash-primary {
            background: var(--teal-accent);
            color: #0f172a;
            padding: 12px 24px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            display: inline-block;
            box-shadow: 0 0 15px var(--teal-dim);
            transition: 0.2s;
            border: none;
            cursor: pointer;
        }

        .btn-dash-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px var(--teal-dim);
        }

        /* --- TABLES --- */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th {
            text-align: left;
            padding: 15px;
            color: var(--text-muted);
            font-weight: 600;
            border-bottom: 1px solid var(--border-subtle);
        }

        td {
            padding: 15px;
            color: var(--text-main);
            border-bottom: 1px solid var(--border-subtle);
        }

        /* --- GLOBAL INPUTS FIX --- */
        input,
        select,
        textarea {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid var(--border-subtle) !important;
            color: var(--text-main) !important;
            /* Forces white text in dark mode */
            font-family: var(--font-body);
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--accent-theme) !important;
            outline: none;
            background: rgba(255, 255, 255, 0.07) !important;
        }

        .btn-action-sm {
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.9rem;
            padding: 5px;
            border-radius: 4px;
            transition: 0.2s;
        }

        .btn-action-sm:hover {
            color: var(--text-main);
            background: rgba(255, 255, 255, 0.05);
        }

        /* --- MOBILE TOGGLE --- */
        .mobile-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 200;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            color: var(--text-main);
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            display: none;
        }

        @media (max-width: 1024px) {
            .mobile-toggle {
                display: block;
            }

            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 20px;
            }
        }

        /* --- BLOG HUB --- */
        .blog-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .blog-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: 0.3s;
        }

        .blog-card:hover {
            border-color: var(--teal-accent);
            transform: translateY(-5px);
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="icon" href="../assets/images/favicon_symbol.png" type="image/x-icon">
</head>

<body>

    <div id="toolModal" class="tool-modal-overlay">
        <div class="tool-modal-content">
            <div class="tool-modal-header">
                <div class="tool-modal-title" id="modalTitle">Tool</div>
                <button class="tool-close-btn" onclick="closeTool()"><i class="fas fa-times"></i></button>
            </div>
            <iframe id="toolFrame" class="tool-frame" src=""></iframe>
        </div>
    </div>

    <!-- SoulBot FAB: Replaced by Widget V2 (injected via script) -->

    <button class="mobile-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>

    <div class="dashboard-layout">

        <!-- SIDEBAR -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="user-avatar-lg" style="background: var(--bg-card); border-color:var(--teal-accent);">
                    <i class="fas fa-user-md" style="color:var(--teal-accent);"></i>
                </div>
                <div class="user-info-text">
                    <div class="name" id="sidebar-name">Dr. Strange</div>
                    <div class="role">Psychologist</div>
                </div>
            </div>

            <div class="sidebar-nav">
                <a href="#" class="side-link active" onclick="switchView('overview', this)"><i
                        class="fas fa-hospital-user"></i> <span>Practice</span></a>
                <a href="#" class="side-link" onclick="switchView('blogs', this)"><i class="fas fa-pen-nib"></i>
                    <span>My Blogs</span></a>
                <a href="#" class="side-link" onclick="switchView('clients', this)"><i class="fas fa-users"></i>
                    <span>Clients</span></a>
                <a href="#" class="side-link" onclick="switchView('notes', this)"><i class="fas fa-file-medical"></i>
                    <span>Notes</span></a>
                <a href="#" class="side-link" onclick="switchView('billing', this)"><i
                        class="fas fa-file-invoice-dollar"></i> <span>Billing</span></a>

                <div style="height:1px; background:var(--border-subtle); margin:10px 0;"></div>
                <div
                    style="padding:10px 20px; font-size:0.75rem; opacity:0.6; text-transform:uppercase; font-weight:700;">
                    Personal</div>

                <a href="#" class="side-link" onclick="switchView('journal', this)"><i class="fas fa-feather-alt"></i>
                    <span>My Journal</span></a>
                <a href="#" class="side-link" onclick="switchView('saved-blogs', this)"><i class="fas fa-bookmark"></i>
                    <span>Saved Blogs</span></a>
                <a href="#" class="side-link" onclick="switchView('messages', this)"><i class="fas fa-envelope"></i>
                    <span>Messages</span></a>

                <div style="height:1px; background:var(--border-subtle); margin:10px 0;"></div>
                <a href="#" onclick="switchView('settings', this)" class="side-link"><i class="fas fa-cog"></i>
                    <span>Settings</span></a>
            </div>

            <div class="sidebar-footer">
                <button class="logout-btn" onclick="handleLogout()"><i class="fas fa-sign-out-alt"></i> Log Out</button>
            </div>
        </nav>

        <!-- MAIN CONTENT -->
        <main class="main-content fade-in">

            <!-- OVERVIEW VIEW -->
            <div id="view-overview" class="view-section active">
                <div
                    style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">
                            Clinical Dashboard</h1>
                        <p style="opacity:0.7;">Practice Overview</p>
                    </div>
                </div>

                <div class="dashboard-grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); padding-right:20px;">

                    <!-- LEFT -->
                    <div style="display:flex; flex-direction:column; gap:25px;">

                        <!-- APPOINTMENTS -->
                        <div class="dash-card">
                            <div class="dc-header"
                                style="display:flex; justify-content:space-between; margin-bottom:20px;">
                                <div style="font-weight:700; font-size:1.1rem;">Upcoming Sessions</div>
                                <button class="btn-dash-primary" style="padding:5px 15px; font-size:0.8rem;">+
                                    Add</button>
                            </div>

                            <table>
                                <tr>
                                    <th>Time</th>
                                    <th>Client</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                </tr>
                                <tr>
                                    <td>15:00</td>
                                    <td style="display:flex; gap:10px; align-items:center;">
                                        <div
                                            style="width:30px; height:30px; background:var(--bg-deep); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.8rem;">
                                            JD</div> John D.
                                    </td>
                                    <td>Initial Consultation</td>
                                    <td><span
                                            style="background:rgba(34, 197, 94, 0.2); color:#22c55e; padding:2px 8px; border-radius:4px; font-size:0.8rem;">Confirmed</span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!-- RIGHT -->
                    <div style="display:flex; flex-direction:column; gap:25px;">

                        <!-- ANALYTICS CHART -->
                        <div class="dash-card">
                            <h4 style="margin-bottom:15px; opacity:0.8;">Content Performance</h4>
                            <div style="position: relative; height: 250px; width: 100%;">
                                <canvas id="perfChart"></canvas>
                            </div>
                        </div>

                        <div class="dash-card" style="text-align:center;">
                            <h4 style="margin-bottom:10px; opacity:0.8;">Active Clients</h4>
                            <div
                                style="font-size:3rem; font-weight:700; font-family:'Outfit'; color:var(--teal-accent);">
                                12</div>
                            <div style="color:#22c55e; font-size:0.85rem; margin-top:5px;">+2 this week</div>
                        </div>

                        <div class="dash-card">
                            <h4 style="margin-bottom:15px;">Professional Resources</h4>
                            <ul
                                style="list-style:none; padding:0; opacity:0.8; font-size:0.9rem; display:flex; flex-direction:column; gap:10px;">
                                <li><i class="fas fa-external-link-alt" style="margin-right:8px; opacity:0.5;"></i>
                                    DSM-5 Reference</li>
                                <li><i class="fas fa-external-link-alt" style="margin-right:8px; opacity:0.5;"></i>
                                    Crisis Protocols</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- BLOGS VIEW -->
            <div id="view-blogs" class="view-section" style="display:none;">
                <div
                    style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">My
                            Articles</h1>
                        <p style="opacity:0.7;">Share your expertise.</p>
                    </div>
                    <button class="btn-dash-primary" onclick="openEditor()">
                        <i class="fas fa-plus"></i> Write New
                    </button>
                </div>

                <div class="blog-list"
                    style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); padding-right:20px;">
                    <div class="blog-card" onclick="openEditor()">
                        <div
                            style="color:#fbbf24; font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px;">
                            Draft</div>
                        <h3 style="margin-bottom:10px;">Understanding High-Functioning Anxiety</h3>
                        <p style="font-size:0.9rem; margin-bottom:15px;">Anxiety often masquerades as...</p>
                        <div style="font-size:0.8rem; opacity:0.5;">Last edited: 2 hours ago</div>
                    </div>

                    <div class="blog-card">
                        <div
                            style="color:#22c55e; font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px;">
                            Published</div>
                        <h3 style="margin-bottom:10px;">5 Grounding Techniques</h3>
                        <p style="font-size:0.9rem; margin-bottom:15px;">A guide to quick relief...</p>
                        <div style="font-size:0.8rem; opacity:0.5;">Published: Oct 20</div>
                    </div>
                </div>
            </div>

            <!-- CLIENTS VIEW -->
            <div id="view-clients" class="view-section" style="display:none;">
                <div
                    style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">My
                            Clients</h1>
                        <p style="opacity:0.7;">Client roster and session tracking</p>
                    </div>
                </div>

                <div class="dash-card" style="padding-right:20px;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                        <input type="text" placeholder="Search patients..."
                            style="padding:12px; background:rgba(0,0,0,0.2); border:1px solid var(--border-subtle); border-radius:30px; color:white; width:300px;">
                        <button class="btn-dash-primary" style="padding:8px 20px;">+ New Patient</button>
                    </div>

                    <table>
                        <tr>
                            <th>Name</th>
                            <th>Status</th>
                            <th>Next Session</th>
                            <th>Action</th>
                        </tr>
                        <tr>
                            <td style="display:flex; align-items:center; gap:10px;">
                                <div
                                    style="width:32px; height:32px; background:var(--bg-deep); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.8rem;">
                                    JD</div> John Doe
                            </td>
                            <td><span
                                    style="color:#22c55e; background:rgba(34, 197, 94, 0.1); padding:2px 8px; border-radius:4px; font-size:0.8rem;">Active</span>
                            </td>
                            <td>Today, 3:00 PM</td>
                            <td><button
                                    style="background:transparent; border:1px solid var(--border-subtle); color:white; padding:5px 15px; border-radius:6px; cursor:pointer;">Profile</button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- VIEW: NOTES -->
            <div id="view-notes" class="view-section" style="display:none;">
                <div
                    style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">
                            Clinical Notes</h1>
                        <p style="opacity:0.7;">Session documentation</p>
                    </div>
                </div>
                <div class="dash-card" style="padding-right:20px;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                        <input type="text" placeholder="Search notes..."
                            style="padding:12px; background:rgba(0,0,0,0.2); border:1px solid var(--border-subtle); border-radius:30px; color:white; width:300px;">
                        <button class="btn-dash-primary" style="padding:8px 20px;">+ New Note</button>
                    </div>

                    <div style="display:flex; flex-direction:column; gap:15px;">
                        <div class="dash-card"
                            style="padding:20px; cursor:pointer; border: 1px solid var(--border-subtle);">
                            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                                <h4 style="margin:0;">Session Notes - John Doe</h4>
                                <span style="font-size:0.8rem; opacity:0.6;">Jan 29, 2026</span>
                            </div>
                            <p style="font-size:0.9rem; opacity:0.7; margin:0;">Initial consultation - presenting
                                concerns around anxiety management...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW: BILLING -->
            <div id="view-billing" class="view-section" style="display:none;">
                <div
                    style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">
                            Billing & Invoices</h1>
                        <p style="opacity:0.7;">Financial management</p>
                    </div>
                </div>
                <div class="dash-card" style="padding-right:20px;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                        <h3 style="margin:0;">Recent Invoices</h3>
                        <button class="btn-dash-primary" style="padding:8px 20px;">+ Create Invoice</button>
                    </div>

                    <table>
                        <tr>
                            <th>Date</th>
                            <th>Client</th>
                            <th>Amount</th>
                            <th>Status</th>
                        </tr>
                        <tr>
                            <td>Jan 29, 2026</td>
                            <td>John Doe</td>
                            <td>$150.00</td>
                            <td><span
                                    style="color:#22c55e; background:rgba(34, 197, 94, 0.1); padding:2px 8px; border-radius:4px; font-size:0.8rem;">Paid</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Jan 28, 2026</td>
                            <td>Jane Smith</td>
                            <td>$175.00</td>
                            <td><span
                                    style="color:#fbbf24; background:rgba(251, 191, 36, 0.1); padding:2px 8px; border-radius:4px; font-size:0.8rem;">Pending</span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- VIEW: SAVED BLOGS -->
            <div id="view-saved-blogs" class="view-section" style="display:none;">
                <div
                    style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">
                            Saved Articles</h1>
                        <p style="opacity:0.7;">Bookmarked resources</p>
                    </div>
                </div>
                <div class="blog-list" style="padding-right:20px;">
                    <div class="blog-card">
                        <div
                            style="color:#2dd4bf; font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px;">
                            Mental Health</div>
                        <h3 style="margin-bottom:10px;">Managing Therapist Burnout</h3>
                        <p style="font-size:0.9rem; margin-bottom:15px;">Essential strategies for maintaining your
                            own well-being...</p>
                        <div style="font-size:0.8rem; opacity:0.5;">Saved: 2 days ago</div>
                    </div>

                    <div class="blog-card">
                        <div
                            style="color:#2dd4bf; font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px;">
                            Research</div>
                        <h3 style="margin-bottom:10px;">Latest CBT Techniques</h3>
                        <p style="font-size:0.9rem; margin-bottom:15px;">New approaches in cognitive behavioral
                            therapy...</p>
                        <div style="font-size:0.8rem; opacity:0.5;">Saved: 1 week ago</div>
                    </div>
                </div>
            </div>
    </div>

    <!-- VIEW: SETTINGS -->
    <div id="view-settings" class="view-section" style="display:none;">
        <style>
            .theme-btn {
                background: rgba(255, 255, 255, 0.03);
                border: 1px solid var(--border-subtle);
                color: var(--text-muted);
                padding: 12px 24px;
                border-radius: 50px;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 10px;
                transition: 0.2s;
                font-weight: 500;
            }

            .theme-btn:hover {
                background: rgba(255, 255, 255, 0.07);
                border-color: var(--accent-theme);
            }

            .theme-btn.active {
                background: var(--accent-theme-soft);
                border-color: var(--accent-theme);
                color: var(--accent-theme);
                font-weight: 600;
            }

            /* Light Mode Overrides (Applied when body has .light-mode) */
            body.light-mode {
                background-color: #f8fafc;
                color: #0f172a;
                --bg-deep: #f8fafc;
                --bg-card: #ffffff;
                --bg-sidebar: #f1f5f9;
                --text-main: #0f172a;
                --text-muted: #64748b;
                --border-subtle: #e2e8f0;
            }
        </style>

        <!-- Settings Header (Full-Width like all other views) -->
        <div
            style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
            <div>
                <h1 style="font-family:'Outfit'; color:var(--text-main); margin-bottom:5px; font-size:2rem;">
                    Settings</h1>
                <p style="opacity:0.7;">Customize your workspace</p>
            </div>
        </div>

        <div style="max-width:800px; margin:0 auto; padding-right:20px;">
            <!-- Settings content in centered, narrower container -->
            <!-- APPEARANCE CARD -->
            <div class="dash-card" style="margin-bottom:25px;">
                <h3 style="margin-bottom:20px; color:var(--accent-theme);">Appearance</h3>

                <!-- Mode Toggle -->
                <div style="margin-bottom:20px;">
                    <label style="display:block; margin-bottom:15px; font-weight:600; opacity:0.9;">Interface
                        Theme</label>
                    <div style="display:flex; gap:15px;">
                        <button onclick="setThemeMode('dark')" class="theme-btn active" id="btn-mode-dark">
                            <i class="fas fa-moon"></i> Dark
                        </button>
                        <button onclick="setThemeMode('light')" class="theme-btn" id="btn-mode-light">
                            <i class="fas fa-sun"></i> Light
                        </button>
                    </div>
                </div>
                <p style="font-size:0.85rem; opacity:0.6; line-height:1.5;">
                    Choose the theme that best fits your environment. Dark mode is recommended for night
                    sessions.
                </p>
            </div>

            <!-- PROFILE CARD -->
            <div class="dash-card">
                <h3 style="margin-bottom:20px; color:var(--accent-theme);">Personal Information</h3>

                <!-- Personal Details -->
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px; margin-bottom:20px;">
                    <div>
                        <label style="display:block; font-size:0.85rem; opacity:0.7; margin-bottom:8px;">Display
                            Name</label>
                        <input type="text" id="profile-name" value="Dr. Psychologist"
                            style="width:100%; padding:12px; background:rgba(255,255,255,0.03); border:1px solid var(--border-subtle); border-radius:10px; color:var(--text-main); outline:none;">
                    </div>
                    <div>
                        <label style="display:block; font-size:0.85rem; opacity:0.7; margin-bottom:8px;">Phone
                            Number</label>
                        <input type="tel" id="profile-phone" value="" placeholder="Add phone number"
                            style="width:100%; padding:12px; background:rgba(255,255,255,0.03); border:1px solid var(--border-subtle); border-radius:10px; color:var(--text-main); outline:none;">
                    </div>
                </div>

                <!-- Role Info (Read Only) -->
                <div style="margin-bottom:25px;">
                    <label style="display:block; font-size:0.85rem; opacity:0.7; margin-bottom:8px;">Role</label>
                    <div
                        style="display:flex; align-items:center; gap:10px; padding:12px; background:rgba(45, 212, 191, 0.05); border:1px solid rgba(45, 212, 191, 0.2); border-radius:10px;">
                        <i class="fas fa-user-md" style="color:var(--accent-theme);"></i>
                        <span style="flex:1; color:var(--text-main); opacity:0.9;">Licensed Psychologist</span>
                        <span
                            style="background:var(--accent-theme); color:#0f172a; padding:2px 8px; border-radius:4px; font-size:0.7rem; font-weight:700;">ACTIVE</span>
                    </div>
                </div>

                <!-- Actions -->
                <div style="display:flex; gap:15px; border-top:1px solid var(--border-subtle); padding-top:20px;">
                    <button class="btn-dash-primary" style="padding:10px 25px; font-size:0.95rem;">Save
                        Changes</button>
                    <button class="btn-dash-secondary"
                        style="background:transparent; border:1px solid var(--border-subtle); color:var(--text-muted); padding:10px 20px; border-radius:50px; cursor:pointer;"
                        onclick="alert('Password reset link sent.')">Change Password</button>
                </div>
            </div>

            <!-- JOURNAL VIEW -->
            <div id="view-journal" class="view-section" style="display:none;">
                <div
                    style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">My
                            Journal</h1>
                        <p style="opacity:0.7;">Private entries for clinical reflection and self-care</p>
                    </div>
                    <button class="btn-dash-primary" onclick="alert('Create new journal entry')">
                        <i class="fas fa-plus"></i> New Entry
                    </button>
                </div>

                <div class="dashboard-grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); padding-right:20px;">
                    <div class="dash-card">
                        <div
                            style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                            <div style="font-size:0.85rem; opacity:0.6;">Today, 11:30 AM</div>
                            <div
                                style="font-size:0.85rem; background:var(--accent-theme-soft); color:var(--accent-theme); padding:4px 10px; border-radius:20px;">
                                Private</div>
                        </div>
                        <h3 style="margin-bottom:10px;">Reflections on Difficult Session</h3>
                        <p style="opacity:0.8; line-height:1.6; margin-bottom:15px;">Client presented with severe
                            anxiety today. I found myself feeling overwhelmed by their distress...</p>
                        <button class="btn-action-sm" style="color:var(--accent-theme);">Continue Reading →</button>
                    </div>

                    <div class="dash-card">
                        <div
                            style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                            <div style="font-size:0.85rem; opacity:0.6;">Yesterday, 6:15 PM</div>
                            <div
                                style="font-size:0.85rem; background:var(--accent-theme-soft); color:var(--accent-theme); padding:4px 10px; border-radius:20px;">
                                Private</div>
                        </div>
                        <h3 style="margin-bottom:10px;">Self-Care Check-in</h3>
                        <p style="opacity:0.8; line-height:1.6; margin-bottom:15px;">Took time for 5-Step Reset between
                            sessions. Feeling more grounded...</p>
                        <button class="btn-action-sm" style="color:var(--accent-theme);">Continue Reading →</button>
                    </div>

                    <div class="dash-card">
                        <div
                            style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                            <div style="font-size:0.85rem; opacity:0.6;">Jan 25, 2026</div>
                            <div
                                style="font-size:0.85rem; background:var(--accent-theme-soft); color:var(--accent-theme); padding:4px 10px; border-radius:20px;">
                                Private</div>
                        </div>
                        <h3 style="margin-bottom:10px;">Professional Growth Goals</h3>
                        <p style="opacity:0.8; line-height:1.6; margin-bottom:15px;">Want to deepen my understanding of
                            trauma-informed care approaches...</p>
                        <button class="btn-action-sm" style="color:var(--accent-theme);">Continue Reading →</button>
                    </div>
                </div>
            </div>

            <!-- MESSAGES VIEW -->
            <div id="view-messages" class="view-section" style="display:none;">
                <div style="margin-bottom:30px; border-bottom:1px solid var(--border-subtle); padding-bottom:20px;">
                    <h1 style="font-family:'Outfit'; font-size:2rem; color:var(--text-main); margin-bottom:5px;">
                        Follow-up Messages</h1>
                    <p style="opacity:0.7;">Secure messaging with clients between sessions</p>
                </div>

                <div style="display:grid; grid-template-columns: 300px 1fr; gap:20px; height:600px;">
                    <!-- Thread List -->
                    <div
                        style="background:var(--bg-card); border:1px solid var(--border-subtle); border-radius:16px; overflow-y:auto;">
                        <div style="padding:15px; border-bottom:1px solid var(--border-subtle);">
                            <div
                                style="font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; opacity:0.6; font-weight:700;">
                                Active Threads</div>
                        </div>

                        <!-- Thread 1 -->
                        <div style="padding:15px; border-bottom:1px solid var(--border-subtle); cursor:pointer; background:rgba(45,212,191,0.05);"
                            onclick="alert('Load thread')">
                            <div style="display:flex; gap:10px; align-items:center; margin-bottom:8px;">
                                <div
                                    style="width:40px; height:40px; background:var(--accent-theme); color:#000; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700;">
                                    JD</div>
                                <div style="flex:1;">
                                    <div style="font-weight:600;">John Doe</div>
                                    <div style="font-size:0.75rem; opacity:0.6;"><i class="fas fa-tasks"></i> Reflection
                                        Task</div>
                                </div>
                                <div style="font-size:0.75rem; opacity:0.5;">2h</div>
                            </div>
                            <div style="font-size:0.85rem; opacity:0.7;">I've completed the anxiety triggers exercise...
                            </div>
                        </div>

                        <!-- Thread 2 -->
                        <div style="padding:15px; border-bottom:1px solid var(--border-subtle); cursor:pointer;"
                            onclick="alert('Load thread')">
                            <div style="display:flex; gap:10px; align-items:center; margin-bottom:8px;">
                                <div
                                    style="width:40px; height:40px; background:#f49f75; color:#000; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700;">
                                    ES</div>
                                <div style="flex:1;">
                                    <div style="font-weight:600;">Emma Smith</div>
                                    <div style="font-size:0.75rem; opacity:0.6;"><i class="fas fa-calendar-check"></i>
                                        Post-Session Check-in</div>
                                </div>
                                <div style="font-size:0.75rem; opacity:0.5;">1d</div>
                            </div>
                            <div style="font-size:0.85rem; opacity:0.7;">Feeling much better after our session...</div>
                        </div>
                    </div>

                    <!-- Chat Panel -->
                    <div
                        style="background:var(--bg-card); border:1px solid var(--border-subtle); border-radius:16px; display:flex; flex-direction:column;">
                        <!-- Boundary Warning -->
                        <div
                            style="background:rgba(251,191,36,0.1); border:1px solid rgba(251,191,36,0.3); padding:12px; margin:15px; border-radius:10px; display:flex; gap:10px; align-items:center;">
                            <i class="fas fa-info-circle" style="color:#fbbf24;"></i>
                            <span style="font-size:0.9rem;">This is a follow-up support space. It is not a substitute
                                for therapy or emergency care.</span>
                        </div>

                        <!-- Chat Header -->
                        <div
                            style="padding:15px; border-bottom:1px solid var(--border-subtle); display:flex; justify-content:space-between; align-items:center;">
                            <div style="display:flex; gap:10px; align-items:center;">
                                <div
                                    style="width:40px; height:40px; background:var(--accent-theme); color:#000; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700;">
                                    JD</div>
                                <div>
                                    <div style="font-weight:700;">John Doe</div>
                                    <div style="font-size:0.75rem; opacity:0.6;">Anxiety Management Client</div>
                                </div>
                            </div>
                            <div
                                style="font-size:0.8rem; background:rgba(255,255,255,0.1); padding:4px 10px; border-radius:20px;">
                                <i class="fas fa-clock"></i> Closes in 2 days
                            </div>
                        </div>

                        <!-- Messages -->
                        <div style="flex:1; padding:20px; overflow-y:auto;">
                            <div style="text-align:center; opacity:0.4; font-size:0.8rem; margin:10px 0;">Thread
                                Started: Reflection Task</div>

                            <!-- Received Message -->
                            <div
                                style="max-width:70%; background:rgba(255,255,255,0.05); padding:15px; border-radius:12px; margin-bottom:15px;">
                                Hi John. Following up on our session yesterday. Here is the reflection task we
                                discussed.
                                <div
                                    style="background:rgba(45,212,191,0.1); border:1px solid var(--accent-theme); border-radius:10px; padding:15px; margin-top:10px;">
                                    <div style="font-weight:700; color:var(--accent-theme); margin-bottom:5px;">
                                        <i class="fas fa-pen"></i> Task: Anxiety Triggers
                                    </div>
                                    <p style="font-size:0.9rem; margin-bottom:10px;">List 3 situations this week where
                                        you felt the 'tightness' we spoke about.</p>
                                    <button
                                        style="background:rgba(45,212,191,0.2); color:var(--accent-theme); border:1px solid var(--accent-theme); padding:5px 15px; border-radius:5px; cursor:pointer;">View
                                        Task</button>
                                </div>
                            </div>

                            <!-- Sent Message -->
                            <div
                                style="max-width:70%; background:var(--accent-theme); color:#000; padding:15px; border-radius:12px; margin-bottom:15px; margin-left:auto;">
                                I've completed all three entries. Thank you for the guidance.
                            </div>
                        </div>

                        <!-- Input Area -->
                        <div style="padding:15px; border-top:1px solid var(--border-subtle); display:flex; gap:10px;">
                            <button
                                style="background:transparent; border:none; color:white; font-size:1.2rem; cursor:pointer; opacity:0.6;"
                                title="Attach File">
                                <i class="fas fa-paperclip"></i>
                            </button>
                            <input type="text" placeholder="Type a message (Follow-up only)..."
                                style="flex:1; background:rgba(255,255,255,0.05); border:1px solid var(--border-subtle); border-radius:10px; padding:10px 15px; color:var(--text-main);">
                            <button class="btn-dash-primary" style="padding:10px 20px;">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    </main>
    </div>

    <script>
        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
        function handleLogout() { sessionStorage.clear(); localStorage.removeItem('soulamore_session'); window.location.href = 'login.html'; }

        /* --- TOOL MODAL LOGIC --- */
        function openTool(url, title) {
            const modal = document.getElementById('toolModal');
            const frame = document.getElementById('toolFrame');
            const titleEl = document.getElementById('modalTitle');

            if (modal && frame && titleEl) {
                frame.src = url;
                titleEl.textContent = title || 'Tool';
                modal.classList.add('active');
            } else {
                window.open(url, '_blank'); // Fallback
            }
        }

        function closeTool() {
            const modal = document.getElementById('toolModal');
            const frame = document.getElementById('toolFrame');

            if (modal) modal.classList.remove('active');
            if (frame) frame.src = '';
        }

        // --- DASHBOARD LOGIC ---
        // Charts and Interactivity
        function switchView(viewName, clickedLink) {
            // Hide all via class removal
            document.querySelectorAll('.view-section').forEach(el => {
                el.classList.remove('active');
            });

            // Show target via class addition
            let t = document.getElementById('view-' + viewName);
            if (t) {
                t.classList.add('active');
            } else {
                console.warn("View not found:", viewName);
            }

            // Update Sidebar
            if (clickedLink) {
                document.querySelectorAll('.sidebar-nav .side-link').forEach(l => l.classList.remove('active'));
                clickedLink.classList.add('active');
            }
        }

        // SAFETY: Ensure one view is active on load
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                const views = document.querySelectorAll('.view-section');
                let visible = false;
                views.forEach(v => {
                    if (v.classList.contains('active')) visible = true;
                });

                if (!visible) {
                    console.warn("⚠️ No view active. Forcing Overview.");
                    const def = document.getElementById('view-overview');
                    if (def) def.classList.add('active');
                }
            }, 100);
        });

        function openEditor() {
            window.location.href = 'blog-editor.html';
        }

        /* --- THEME MODE TOGGLE --- */
        function setThemeMode(mode) {
            const body = document.body;
            const darkBtn = document.getElementById('btn-mode-dark');
            const lightBtn = document.getElementById('btn-mode-light');

            if (mode === 'light') {
                body.classList.add('light-mode');
                localStorage.setItem('theme-mode', 'light');
                if (lightBtn) lightBtn.classList.add('active');
                if (darkBtn) darkBtn.classList.remove('active');
            } else {
                body.classList.remove('light-mode');
                localStorage.setItem('theme-mode', 'dark');
                if (darkBtn) darkBtn.classList.add('active');
                if (lightBtn) lightBtn.classList.remove('active');
            }
        }

        // Apply saved theme on load
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme-mode');
            if (savedTheme === 'light') {
                setThemeMode('light');
            }
        });

        /* --- CHART JS --- */
        const ctx = document.getElementById('perfChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [{
                    label: 'Article Views',
                    data: [12, 19, 3, 5, 2, 30, 45],
                    borderColor: '#a855f7',
                    backgroundColor: 'rgba(168, 85, 247, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    x: { ticks: { color: 'rgba(255,255,255,0.5)' }, grid: { display: false } },
                    y: { ticks: { color: 'rgba(255,255,255,0.5)' }, grid: { color: 'rgba(255,255,255,0.05)' } }
                }
            }
        });
    </script>
    <script src="../assets/js/soulbot-widget-v2.js"></script>

    <!-- FLOATING TOOLS FAB -->
    <!-- Tools FAB -->
    <button id="tools-fab" onclick="toggleToolsMenu()"
        style="position:fixed; bottom:30px; right:30px; width:56px; height:56px; border-radius:50%; background:var(--peach-accent); border:none; cursor:pointer; box-shadow:0 0 20px rgba(251,146,60,0.4); display:flex; align-items:center; justify-content:center; z-index:1000; transition:all 0.3s ease;">
        <i class="fas fa-toolbox" style="font-size:1.4rem; color:#0f172a;"></i>
    </button>

    <!-- TOOLS SLIDE-OUT MENU -->
    <div id="tools-menu"
        style="position:fixed; top:0; right:-350px; width:350px; height:100vh; background:var(--bg-card); border-left:1px solid var(--border-subtle); z-index:1001; transition:right 0.3s ease; display:flex; flex-direction:column; box-shadow:-4px 0 20px rgba(0,0,0,0.5);">
        <!-- Header -->
        <div
            style="padding:20px; border-bottom:1px solid var(--border-subtle); display:flex; justify-content:space-between; align-items:center; background:rgba(0,0,0,0.2);">
            <div>
                <h3 style="margin:0; font-family:'Outfit'; font-size:1.2rem;">Clinician Tools</h3>
                <p style="margin:5px 0 0 0; font-size:0.8rem; opacity:0.7;">Quick access for self-care</p>
            </div>
            <button onclick="toggleToolsMenu()"
                style="background:transparent; border:none; color:var(--text-main); cursor:pointer; font-size:1.5rem; opacity:0.7; padding:5px;">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Tools List -->
        <div style="flex:1; overflow-y:auto; padding:15px;">
            <!-- 5-Step Reset -->
            <div onclick="window.open('../tools/5-step-reset.html', '_blank')" class="tool-item"
                style="padding:15px; background:rgba(45,212,191,0.1); border:1px solid rgba(45,212,191,0.3); border-radius:12px; margin-bottom:12px; cursor:pointer; transition:all 0.2s;">
                <div style="display:flex; align-items:center; gap:12px;">
                    <div
                        style="width:40px; height:40px; background:rgba(45,212,191,0.2); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-leaf" style="color:#2dd4bf; font-size:1.1rem;"></i>
                    </div>
                    <div style="flex:1;">
                        <h4 style="margin:0; font-size:1rem; color:#2dd4bf;">5-Step Reset</h4>
                        <p style="margin:3px 0 0 0; font-size:0.75rem; opacity:0.7;">Quick burnout relief</p>
                    </div>
                    <i class="fas fa-external-link-alt" style="opacity:0.5; font-size:0.9rem;"></i>
                </div>
            </div>

            <!-- Breathing -->
            <div onclick="window.open('../tools/breathing.html', '_blank')" class="tool-item"
                style="padding:15px; background:rgba(56,189,248,0.1); border:1px solid rgba(56,189,248,0.3); border-radius:12px; margin-bottom:12px; cursor:pointer; transition:all 0.2s;">
                <div style="display:flex; align-items:center; gap:12px;">
                    <div
                        style="width:40px; height:40px; background:rgba(56,189,248,0.2); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-wind" style="color:#38bdf8; font-size:1.1rem;"></i>
                    </div>
                    <div style="flex:1;">
                        <h4 style="margin:0; font-size:1rem; color:#38bdf8;">Breathing</h4>
                        <p style="margin:3px 0 0 0; font-size:0.75rem; opacity:0.7;">Calm and center</p>
                    </div>
                    <i class="fas fa-external-link-alt" style="opacity:0.5; font-size:0.9rem;"></i>
                </div>
            </div>

            <!-- Journal (Internal View) -->
            <div onclick="toggleToolsMenu(); switchView('journal', document.querySelector('.side-link[onclick*=journal]'));"
                class="tool-item"
                style="padding:15px; background:rgba(168,85,247,0.1); border:1px solid rgba(168,85,247,0.3); border-radius:12px; margin-bottom:12px; cursor:pointer; transition:all 0.2s;">
                <div style="display:flex; align-items:center; gap:12px;">
                    <div
                        style="width:40px; height:40px; background:rgba(168,85,247,0.2); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-book" style="color:#a855f7; font-size:1.1rem;"></i>
                    </div>
                    <div style="flex:1;">
                        <h4 style="margin:0; font-size:1rem; color:#a855f7;">My Journal</h4>
                        <p style="margin:3px 0 0 0; font-size:0.75rem; opacity:0.7;">Private reflection</p>
                    </div>
                    <i class="fas fa-arrow-right" style="opacity:0.5; font-size:0.9rem;"></i>
                </div>
            </div>

            <!-- Vent Box -->
            <div onclick="window.open('../tools/vent-box.html', '_blank')" class="tool-item"
                style="padding:15px; background:rgba(239,68,68,0.1); border:1px solid rgba(239,68,68,0.3); border-radius:12px; margin-bottom:12px; cursor:pointer; transition:all 0.2s;">
                <div style="display:flex; align-items:center; gap:12px;">
                    <div
                        style="width:40px; height:40px; background:rgba(239,68,68,0.2); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-fire" style="color:#ef4444; font-size:1.1rem;"></i>
                    </div>
                    <div style="flex:1;">
                        <h4 style="margin:0; font-size:1rem; color:#ef4444;">Vent Box</h4>
                        <p style="margin:3px 0 0 0; font-size:0.75rem; opacity:0.7;">Release frustration</p>
                    </div>
                    <i class="fas fa-external-link-alt" style="opacity:0.5; font-size:0.9rem;"></i>
                </div>
            </div>

            <!-- Drop It -->
            <div onclick="window.open('../tools/drop-it.html', '_blank')" class="tool-item"
                style="padding:15px; background:rgba(56,189,248,0.1); border:1px solid rgba(56,189,248,0.3); border-radius:12px; margin-bottom:12px; cursor:pointer; transition:all 0.2s;">
                <div style="display:flex; align-items:center; gap:12px;">
                    <div
                        style="width:40px; height:40px; background:rgba(56,189,248,0.2); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-hand-holding-water" style="color:#38bdf8; font-size:1.1rem;"></i>
                    </div>
                    <div style="flex:1;">
                        <h4 style="margin:0; font-size:1rem; color:#38bdf8;">Drop It</h4>
                        <p style="margin:3px 0 0 0; font-size:0.75rem; opacity:0.7;">Let go of worries</p>
                    </div>
                    <i class="fas fa-external-link-alt" style="opacity:0.5; font-size:0.9rem;"></i>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Toggle Tools Menu
        function toggleToolsMenu() {
            const menu = document.getElementById('tools-menu');
            const isOpen = menu.style.right === '0px';
            menu.style.right = isOpen ? '-350px' : '0px';
        }

        // Tool item hover effects
        document.addEventListener('DOMContentLoaded', () => {
            const style = document.createElement('style');
            style.textContent = `
                .tool-item:hover {
                    transform: translateX(-5px);
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>

</html>